import{z as t,u as g,a as j,b as p,c as w,j as e,F as N,d as i,e as c,f as l,g as d,I as m,h as u,B as v,L as F,t as L,i as y}from"./index-hzS7AP9k.js";const P=t.object({username:t.string().min(1,"Username is required"),password:t.string().min(1,"Password is required")}),k=()=>{const{toast:a}=g(),[,x]=j(),r=p({resolver:L(P),defaultValues:{username:"",password:""}}),{mutate:f,isPending:o}=w({mutationFn:async s=>{const n=await y("POST","/api/admin/login",s);if(!n.ok){const h=await n.text();throw new Error(h||"Invalid credentials")}return n.json()},onSuccess:()=>{a({title:"Login successful",description:"You have been logged in successfully",variant:"success"}),x("/admin/dashboard")},onError:s=>{a({title:"Login failed",description:s.message||"Failed to log in. Please check your credentials.",variant:"destructive"})}}),b=s=>{f(s)};return e.jsx("div",{className:"min-h-screen bg-[#fff5f7] flex flex-col items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md bg-white rounded-lg shadow-md border border-[#e8c1c8] p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"font-['Great_Vibes'] text-4xl text-[#6b0f2b] mb-2",children:"Admin Login"}),e.jsx("p",{className:"text-[#718096] text-sm",children:"Please log in to access the admin dashboard"})]}),e.jsx(N,{...r,children:e.jsxs("form",{onSubmit:r.handleSubmit(b),className:"space-y-6",children:[e.jsx(i,{control:r.control,name:"username",render:({field:s})=>e.jsxs(c,{children:[e.jsx(l,{children:"Username"}),e.jsx(d,{children:e.jsx(m,{...s,autoComplete:"username",className:"w-full px-4 py-2 border border-[#e8c1c8] rounded-md focus:outline-none focus:ring-2 focus:ring-[#6b0f2b]"})}),e.jsx(u,{className:"text-red-500 text-sm"})]})}),e.jsx(i,{control:r.control,name:"password",render:({field:s})=>e.jsxs(c,{children:[e.jsx(l,{children:"Password"}),e.jsx(d,{children:e.jsx(m,{...s,type:"password",autoComplete:"current-password",className:"w-full px-4 py-2 border border-[#e8c1c8] rounded-md focus:outline-none focus:ring-2 focus:ring-[#6b0f2b]"})}),e.jsx(u,{className:"text-red-500 text-sm"})]})}),e.jsx(v,{type:"submit",disabled:o,className:"w-full bg-[#6b0f2b] text-white hover:bg-[#890f32]",children:o?e.jsxs(e.Fragment,{children:[e.jsx(F,{className:"mr-2 h-4 w-4 animate-spin"}),"Logging in..."]}):"Login"})]})}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("a",{href:"/",className:"text-[#6b0f2b] hover:text-[#890f32] text-sm inline-block",children:"Back to Wedding Page"})})]})})};export{k as default};
